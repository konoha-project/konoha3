cmake_minimum_required(VERSION 2.6)
find_library(HAVE_LIBMECAB NAMES mecab)

set(PACKAGE_SOURCE_CODE mecab_glue.c)

if(HAVE_LIBMECAB)
	set(PACKAGE_EXTRA_LIBRARY ${HAVE_LIBMECAB})
	if(APPLE)
		string(COMPARE EQUAL "/usr/lib/libmecab.dylib" ${HAVE_LIBMECAB} USE_ORIGINAL_LIB)
		if(${USE_ORIGINAL_LIB})
			show_package_warning(mecab)
		else(${USE_ORIGINAL_LIB})
			add_konoha_package(Lib.Mecab)
		endif(${USE_ORIGINAL_LIB})
	else(APPLE)
		set(PACKAGE_EXTRA_LIBRARY ${HAVE_LIBMECAB})
			add_konoha_package(Lib.Mecab)
	endif(APPLE)
else(HAVE_LIBMECAB)
	show_package_warning(mecab)
endif(HAVE_LIBMECAB)
